<!DOCTYPE html>
<html lang="en" class="h-full">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Linktree Clone – Sprint 9 (A11y & Reorder)</title>

    <!-- 1) Tailwind (no JS config needed) -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- 2) Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />

    <!-- 3) Custom CSS (gradient + focus styles) -->
    <link rel="stylesheet" href="style.css" />

    <!-- 4) Fade animations -->
    <style>
        .fade-in {
            animation: fadeIn 0.5s ease-out forwards;
            will-change: opacity;
        }

        .fade-up-out {
            animation: fadeUpOut 3s ease-out forwards;
            will-change: transform, opacity;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }

        @keyframes fadeUpOut {
            from {
                opacity: 1;
                transform: translateY(0);
            }

            to {
                opacity: 0;
                transform: translateY(-60px);
            }
        }

        .skeleton {
            background-color: #374151;
            position: relative;
            overflow: hidden;
        }

        .skeleton::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg,
                    rgba(255, 255, 255, 0) 0%,
                    rgba(255, 255, 255, 0.1) 50%,
                    rgba(255, 255, 255, 0) 100%);
            animation: pulse 1.5s infinite;
        }

        @keyframes pulse {
            0% {
                left: -100%;
            }

            100% {
                left: 100%;
            }
        }
    </style>
</head>

<body class="h-full relative overflow-hidden">
    <!--
    ────────────────────────────────────────────────
    Floating “Reset” Button (top-left)
    ────────────────────────────────────────────────
  -->
    <button id="reset-btn" aria-label="Clear local storage and reset"
        class="fixed top-4 left-4 z-50 bg-white text-gray-800 p-2 rounded-full shadow-lg hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-rose-500">
        <i class="fa fa-rotate"></i>
    </button>

    <!--
    ────────────────────────────────────────────────
    1) Welcome Screen
    ────────────────────────────────────────────────
  -->
    <div id="welcome-screen" class="absolute inset-0 flex items-center justify-center bg-transparent overflow-hidden">
        <h1 id="welcome-text" role="status" aria-live="polite"
            class="text-3xl sm:text-4xl font-semibold text-black opacity-0">
            Welcome! Thanks for purchasing ✨
        </h1>
    </div>

    <!--
    ────────────────────────────────────────────────
    2) Setup Form Screen (Dark‐Grey Card)
    ────────────────────────────────────────────────
  -->
    <div id="form-screen" role="form" aria-labelledby="form-heading"
        class="hidden absolute inset-0 flex items-center justify-center px-4 overflow-auto">
        <div class="relative w-full max-w-lg md:max-w-md bg-gray-800 rounded-2xl p-6 shadow-lg mx-auto">
            <h2 id="form-heading" class="text-2xl font-bold text-white mb-4 text-center">
                Set Up Your Linktree
            </h2>

            <!-- Profile Picture URL -->
            <div class="mb-4">
                <label for="profile-pic" class="block text-gray-300 mb-1">
                    Profile Picture URL <span class="text-red-500">*</span>
                </label>
                <input id="profile-pic" type="url" placeholder="https://example.com/avatar.jpg" required
                    aria-describedby="error-profile-pic"
                    class="w-full px-4 py-2 rounded-lg bg-gray-700 text-gray-200 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-emerald-400 border border-transparent focus:border-emerald-400 transition" />
                <p id="error-profile-pic" class="mt-1 text-sm text-red-500 hidden">
                    Please enter a valid URL (http/https).
                </p>
            </div>

            <!-- Username -->
            <div class="mb-4">
                <label for="username" class="block text-gray-300 mb-1">
                    Username <span class="text-red-500">*</span>
                </label>
                <input id="username" type="text" placeholder="@yourhandle" required aria-describedby="error-username"
                    class="w-full px-4 py-2 rounded-lg bg-gray-700 text-gray-200 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-emerald-400 border border-transparent focus:border-emerald-400 transition" />
                <p id="error-username" class="mt-1 text-sm text-red-500 hidden">
                    Username must start with “@” and be 3–30 chars.
                </p>
            </div>

            <!-- Tagline -->
            <div class="mb-4">
                <label for="tagline" class="block text-gray-300 mb-1">
                    Tagline (optional)
                </label>
                <input id="tagline" type="text" placeholder="Discover my work & more ✨" maxlength="100"
                    class="w-full px-4 py-2 rounded-lg bg-gray-700 text-gray-200 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-emerald-400 border border-transparent focus:border-emerald-400 transition" />
                <p id="tagline-count" class="mt-1 text-sm text-gray-400">0/100</p>
            </div>

            <!-- Link Rows Container -->
            <div id="links-wrapper" class="mb-4 space-y-4">
                <label class="block text-gray-300 mb-1">Your Links (min 1, max 10)</label>
                <!-- JavaScript will inject link-row blocks here (with Move Up/Down, Delete buttons) -->
            </div>

            <!-- Add New Link Button -->
            <button id="add-link-btn" type="button"
                class="w-full mb-4 bg-emerald-500 text-white py-2 rounded-lg hover:bg-emerald-600 transition focus:outline-none focus:ring-2 focus:ring-emerald-400">
                + Add New Link
            </button>
            <p id="error-links" class="mt-1 text-sm text-red-500 hidden">
                At least one valid link is required.
            </p>

            <!-- Generate Button -->
            <button id="generate-btn"
                class="w-full mt-4 bg-gray-600 text-gray-300 py-3 rounded-lg font-medium cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-emerald-400 transition"
                disabled>
                Generate My Linktree
            </button>

            <!-- Bypass (Testing) Button -->
            <button id="bypass-btn" type="button"
                class="w-full mt-4 bg-yellow-500 text-black py-3 rounded-lg font-medium hover:bg-yellow-600 transition focus:outline-none focus:ring-2 focus:ring-yellow-400">
                Bypass (Testing)
            </button>
        </div>
    </div>

    <!--
    ────────────────────────────────────────────────
    3) Loader Screen (Skeleton on Dark‐Grey)
    ────────────────────────────────────────────────
  -->
    <div id="loader-screen" class="hidden absolute inset-0 flex items-center justify-center px-4 overflow-auto">
        <div class="w-full max-w-lg md:max-w-md bg-gray-800 rounded-2xl p-6 shadow-lg mx-auto space-y-4">
            <!-- Skeleton head (circle) -->
            <div class="w-24 h-24 rounded-full mx-auto skeleton"></div>
            <!-- Skeleton username bar -->
            <div class="h-6 w-3/4 mx-auto rounded-md skeleton"></div>
            <!-- Skeleton buttons (3 rows) -->
            <div class="h-12 rounded-lg skeleton"></div>
            <div class="h-12 rounded-lg skeleton"></div>
            <div class="h-12 rounded-lg skeleton"></div>
        </div>
    </div>

    <!--
    ────────────────────────────────────────────────
    4) Linktree Output Screen (Dark‐Grey + Profile Pic & Tagline)
    ────────────────────────────────────────────────
  -->
    <div id="linktree-screen" role="region" aria-live="polite"
        class="hidden absolute inset-0 flex items-center justify-center px-4 overflow-auto">
        <div class="relative w-full max-w-lg md:max-w-md bg-gray-800 rounded-2xl p-6 shadow-lg mx-auto">
            <!-- Profile Picture -->
            <img id="output-profile-pic" src="" alt="Profile Picture"
                class="w-24 h-24 rounded-full mx-auto mb-4 object-cover border-2 border-gray-700 hidden" />
            <!-- Tagline -->
            <p id="output-tagline" class="text-gray-300 text-center mb-2 italic hidden"></p>
            <!-- Username -->
            <h2 id="display-username" class="text-2xl font-bold text-white mb-4 text-center">
                @username_goes_here
            </h2>

            <!-- Links Container -->
            <div id="links-container" class="space-y-3 mb-6">
                <!-- JavaScript will inject buttons here -->
            </div>

            <!-- Back to Edit Button -->
            <button id="back-btn"
                class="w-full bg-gray-600 text-gray-300 py-2 rounded-lg font-medium hover:bg-gray-700 transition focus:outline-none focus:ring-2 focus:ring-emerald-400">
                ← Back to Edit
            </button>
        </div>
    </div>

    <!-- 5) Our JavaScript -->
    <script src="app.js"></script>
</body>

</html>